<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="index.css">
</head>
<body>
<h1> Quản Lý Sản Phẩm (Hữu Trí)</h1>
<input id="id" type="text" placeholder="Nhập id">
<input id="name" type="text" placeholder="Nhập Name">
<input id="price" type="text" placeholder="Nhập price">
<input  type="button" value="Thêm mới " onclick="addNewProduct()"><br>
<span>Số lượng Sản Phẩm: </span>
<span id="amount"></span><br>
<p id="result"></p>
<script>
    class Product {
        constructor(id, name, price) {
            this.id = id;
            this.name = name;
            this.price = price;
        }
        setId(id) {
            this.id = id;
        }
        getId() {
            return this.id;
        }
        setName(name) {
            this.name = name;
        }
        getName() {
            return this.name
        }
        setPrice(price) {
            this.price = price;
        }
        getPrice() {
            return this.price
        }
    }
    
    function display(products) {
        let tableString = '<table>\n' +
            '    <tr>\n' +
            '        <th>STT</th>\n' +
            '        <th>ID</th>\n' +
            '        <th>Name</th>\n' +
            '        <th>Price</th>\n' +
            '        <th>Delete Product</th>\n' +
            '        <th>Edit Name Product</th>\n' +
            '        <th>Edit ID Product </th>\n' +
            '        <th>Edit Price Product </th>\n' +
            '    </tr>';
        for (let i = 0; i < products.length; i++) {
            tableString += '<tr>\n' +
                '        <td>' + (1 + i) + '</td>\n' +
                '        <td>' + products[i].getId() + '</td>\n' +
                '        <td>' + products[i].getName() + '</td>\n' +
                '        <td>' + products[i].getPrice() + ' $</td>\n' +
                '        <th><button class="buttonDelete" type="button" onclick="deleteProduct('+i+')">Delete</button></th>\n' +
                '        <th><button type="button" onclick="editNameProduct('+i+')">Edit</button></th>\n' +
                '        <th><button type="button" onclick="editIdProduct('+i+')">Edit</button></th>\n' +
                '        <th><button type="button" onclick="editPriceProduct('+i+')">Edit</button></th>\n' +
                '    </tr>';
        }
        tableString += '</table>'
        document.getElementById("result").innerHTML = tableString;
        document.getElementById("amount").innerHTML = products.length;
    }
    function addNewProduct() {
        let id = document.getElementById("id").value;
        let name = document.getElementById("name").value;
        let price = document.getElementById("price").value;
        let newProduct = new Product(id,name,price);
        if(id &&  name && price != ""){
            productList.push(newProduct);

        }else{
            alert("vui lòng nhập đầy đủ thông tin sản phẩm ")
        }
        display(productList)
    }
    function deleteProduct(index) {
        let conf = confirm("Bạn có muốn xóa sản phẩm : "+ productList[index].getName());
        if (conf){
            productList.splice(index, 1);
        }
        display(productList);
    }
    function editNameProduct(index) {
        let newNameProduct = prompt("Chỉnh sửa tên sản phẩm : " + productList[index].getName())
    
        if(newNameProduct) {
            productList[index].name = newNameProduct 
        }
        display(productList);
    }
    function editIdProduct(index) {
        let newIdProduct = prompt("Chỉnh sửa mã số sản phẩm : " + productList[index].getName())
    
        if(newIdProduct) {
            productList[index].id = newIdProduct 
        }
        display(productList);
    }
    function editPriceProduct(index) {
        let newPriceProduct = prompt("Chỉnh sửa giá sản phẩm : " + productList[index].getName())
    
        if(newPriceProduct) {
            productList[index].price = newPriceProduct 
        }
        display(productList);
    }
    let productList = [];
    productList.push(new Product("001", "Sam Sung", 10000));
    productList.push(new Product("002", "OPPO", 10000));
    productList.push(new Product("003", "IPHONE", 10000));
    display(productList);
    
</script>
</body>
</html>